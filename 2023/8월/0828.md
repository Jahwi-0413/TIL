# 0828

- useCallback과 useMemo는 언제 사용할지

## useCallback과 useMemo는 언제 사용할지

- useMemo
  - 복잡한 계산이나 외부 데이터각 필요한 작업에 유용함
  - useMemo 수행 결과는 메모리에 저장됨
  - 잦은 변동이 있는 경우에는 오히려 성능이 악화될 수 있음
- useCallback

  - 컴포넌트 렌더링때마다 함수를 새로 선언하는것은 딱히 성능상 큰 영향을 미치지 않음
  - 함수 동등성을 지키기 위해 사용
    - 특정 함수를 props로 넘기거나 다른 함수의 인자로 넘길때 함수의 참조가 달라져 예상치 못한 성능 문제가 생길 수 있음

- 사용하지 말아야 할 경우

  - 단순히 setState나 dispatch를 호출하는 경우에는 사욯하지 말것
    이미 react 내부에서 setState와 useDispatch는 성능 최적화를 포함함
  - 다른 컴포넌트를 렌더링하지 않는 컴포넌트에서는 useMemo를 사용할 필요가 없음
    (html 태그만 렌더링 하는 컴포넌트)

- 사용해야 하는 경우
  - 연산, 처리량이 많아서 렌더링이 문제가 되는 경우
  - 자식 컴포넌트에서 useEffectrk 반복적으로 트리거 되거나 무한 루프에 빠질 위험이 있을때
  - 자식 컴포넌트에 함수를 props로 넘길 때 불필요한 렌더링이 일어난다고 판단될때
  - 사용자의 입력값이 map 또는 filter 등을 사용해 이후 렌더링에도 동일한 참조를 사용할 가능성이 높을 경우
