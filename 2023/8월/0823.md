# 0823

## react rendering

1. 렌더링 트리거

- 초기 렌더링
- component의 상태가 업데이트됨

2. react가 component를 렌더링함
   "렌더링"이란 react가 component를 호출하는것을 의미함

- 초기 렌더링 -> 루트 구성 요소 호출
- 후속 렌더링 -> 렌더러를 트리거한 상태가 업데이트된 component를 호출함
  - 이전 렌더링 후 변경된 속성이 있는지 검사함

3. React가 DOM에 변경 사항을 커밋함

- 초기 렌더링 -> 생성된 모든 DOM 노드를 화면에 배치함
- 재렌더링 -> DOM이 최신 렌더링 결과아 같도록 최소한의 작업을 적용함

react는 레너링 간에 차이가 있는 경우만 DOM 노드를 변경함

## react state

state는 snapshot처럼 동작함.
component 함수에서 반환하는 JSX는 시간에 따른 UI 스냅샷이다.
props, 이벤트 핸들러, 지역 변수 모드 렌더링 당시의 상태를 사용해 계산됨

상태 변수의 값은 렌더링 내에서 변경되지 않음
react가 component를 호출해 UI의 스냅샷을 찍을때 값이 고정되었기 때문

react는 상태 업데이트를 처리하기 전에 이벤트 핸들러의 모든 코드가 실행될 때까지 기다림

### 다음 렌더링 전에 상태 여러번 업데이트 하는 경우

변경 요청은 큐에 넣어 일괄처리함

### 객체 상태 변수 변경하기

상태 변수가 객체인 경우 객체의 내부의 속성 값을 변경하는것은 리렌더링이 요청되지 않는다
새로운 객체를 만들어서 변경해야 변경으로 감지된다.

스프레드 구문을 사용해 객체를 복사할 수 있지만 nested한 객체인 경우에는 되지 않는다.

### 배열 타입의 상태 변수 변경하기

push, pop은 원본 객체를 변경하기 때문에 권장하지 않는다.
추가는 스프레드 구문을, 제거는 filter를 사용할 것을 권장한다.

immer를 사용하면 상태 변경을 편하게 사용할 수 있음
